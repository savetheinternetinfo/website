<%
// check for login

%>
<%- include('layout/header', {BANNER: "map"}); -%>
<%
let common_half = "appearance-none block w-full bg-grey-lighter "+
  "border border-grey-lighter rounded py-3 px-4 "+
  "leading-tight focus:outline-none focus:bg-white focus:border-grey";
let common_full = "appearance-none block w-full bg-grey-lighter "+
  "border border-grey-lighter rounded py-3 px-4 mb-3 "+
  "leading-tight focus:outline-none focus:bg-white focus:border-grey";
// 
let country_codes = [
  "AD", "AT", "BE", "BG",
  "CH", "CY", "CZ", "DE",
  "DK", "EE", "ES", "FI",
  "FR", "GB", "GR", "HR",
  "HU", "IE", "IT", "LT",
  "LU", "LV", "MT", "NL",
  "NO", "PL", "PT", "RO",
  "SE", "SI", "SK", "SM",
  "VA"
];

%>
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<script type="text/javascript" src="<%= assets['/assets/formmap.js'] %>"></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin=""/>
<style>
.leaflet-popup-content p {
  margin: 0;
}
.leaflet-popup-content-wrapper {
  padding: 1px;
  text-align: left;
  border-radius: 0;
}
.hr-30 {
  height: 30rem;
}
</style>

<div class="container">
  <div class="sm:block md:flex mb-4 p-2 md:p-0">
    <div class="md:w-3/4 hr-30">
      <div class="hr-30" id="demomap"></div>
    </div>
    <div class="md:w-1/4 hr-30">
      <div
        class="w-full md:ml-3 mt-4 md:mt-0 overflow-y-auto text-sm demomap_container hr-30"
      >
        <ul class="list-reset demomap_list pr-2 hr-30" id="event-list"></ul>
      </div>
    </div>
  </div>
  <div class="section mx-auto flex justify-center">
    <form class="w-full max-w-md">
      <h1 class="mb-8"><%= __('demoform_title') %></h1>
      <div id="innerForm">
        <div class="flex flex-wrap -mx-3 mb-6">
          <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
            <label class="block uppercase tracking-wide text-xs font-bold mb-2" for="demo-place"><%= __('demoform_place') %>*</label>
            <input class="<%= common_half %>" placeholder="<%= __('demoform_place') %>" id="demo-place" type="text">
          </div>
          <div class="w-full md:w-1/2 px-3">
            <label class="block uppercase tracking-wide text-xs font-bold mb-2" for="demo-detail"><%= __('demoform_detail') %></label>
            <input class="<%= common_half %>" placeholder="<%= __('demoform_detail') %>" id="demo-detail" type="text">
          </div>
        </div>
        <div class="flex flex-wrap -mx-3 mb-6">
          <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
            <label class="block uppercase tracking-wide text-xs font-bold mb-2" for="demo-postal"><%= __('demoform_postal') %>*</label>
            <input class="<%= common_half %>" placeholder="<%= __('demoform_postal') %>" id="demo-postal" type="text">
          </div>
          <div class="w-full md:w-1/2 px-3">
            <label class="block uppercase tracking-wide text-xs font-bold mb-2" for="demo-city"><%= __('demoform_city') %>*</label>
            <input class="<%= common_half %>" placeholder="<%= __('demoform_city') %>" id="demo-city" type="text">
          </div>
        </div>
        <div class="flex flex-wrap -mx-3 mb-6">
          <div class="w-full px-3">
            <label class="block uppercase tracking-wide text-xs font-bold mb-2" for="demo-country"><%= __('demoform_country') %>*</label>
            <select class="<%= common_full %>" rows="10" id="demo-country">
              <option disabled selected value><%= __('demoform_country') %></option>
              <% for (let cc in country_codes) { %>
                <option value="<%= country_codes[cc] %>"><code>(<%= country_codes[cc] %>)</code> <%= __('cc_'+country_codes[cc]) %></option>
              <% } %>
            </select>
          </div>
        </div>
        <div class="flex flex-wrap -mx-3 mb-6">
          <div class="w-full px-3">
            <button class="w-full btn btn-orange rounded" type="button" id="search"><%= __('demoform_query') %></button>
          </div>
        </div>
        <div class="flex flex-wrap -mx-3 mb-6">
          <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
            <label class="block uppercase tracking-wide text-xs font-bold mb-2" for="demo-date"><%= __('demoform_date') %>*</label>
            <input class="<%= common_half %>" placeholder="<%= __('demoform_date') %>" id="demo-date" type="date" value="2019-03-23">
          </div>
          <div class="w-full md:w-1/2 px-3">
            <label class="block uppercase tracking-wide text-xs font-bold mb-2" for="demo-time"><%= __('demoform_time') %>*</label>
            <input class="<%= common_half %>" placeholder="<%= __('demoform_time') %>" id="demo-time" type="time">
          </div>
        </div>
        <div class="flex flex-wrap -mx-3 mb-6">
          <div class="w-full px-3">
            <label class="block uppercase tracking-wide text-xs font-bold mb-2" for="demo-link-fb"><%= __('demoform_link_fb') %></label>
            <input class="<%= common_half %>" placeholder="<%= __('demoform_link_fb') %>" id="demo-link-fb" type="url">
          </div>
        </div>
        <div class="flex flex-wrap -mx-3 mb-6">
          <div class="w-full px-3">
            <label class="block uppercase tracking-wide text-xs font-bold mb-2" for="demo-link-tw"><%= __('demoform_link_tw') %></label>
            <input class="<%= common_half %>" placeholder="<%= __('demoform_link_tw') %>" id="demo-link-tw" type="url">
          </div>
        </div>
        <div class="flex flex-wrap -mx-3 mb-6">
          <div class="w-full px-3">
            <label class="block uppercase tracking-wide text-xs font-bold mb-2" for="demo-link-ap"><%= __('demoform_link_ap') %></label>
            <input class="<%= common_half %>" placeholder="<%= __('demoform_link_ap') %>" id="demo-link-ap" type="url">
          </div>
        </div>
        <h3 class="mb-8"><%= __('demoform_title_result') %></h3>
        <div class="flex flex-wrap -mx-3 mb-6">
          <div class="w-full px-3">
            <label class="block uppercase tracking-wide text-xs font-bold mb-2" for="demo-result"><%= __('demoform_result') %>*</label>
            <textarea class="<%= common_full %>" rows="10" id="demo-result"></textarea>
            <p class="text-red text-xs italic" id="contact-message-errormsg"></p>
          </div>
        </div>
        <div class="flex flex-wrap -mx-3 mb-6">
          <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
            <div class="g-recaptcha" data-sitekey="<%= recaptcha_sitekey %>"></div>
          </div>
          <div class="w-full md:w-1/2 px-3">
            <button class="btn btn-orange rounded" type="button" id="send"><%= __('contactform_submit') %></button>
            <p class="text-xs italic mt-2"><%= __('contactform_required_info') %></p>
          </div>
        </div>
      </div>
    </form>
</div>
<%- include('layout/footer'); -%>
